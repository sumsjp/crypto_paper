1. [摘要](#S1)
2. [研究角度](#S2)
3. [研究方法](#S3)
4. [研究結果](#S4)
5. [研究結論](#S5)

# (2024) Cryptocurrency Market-making: Improving Grid Trading Strategies in Bitcoin

<a name="S1"></a>
## 1. **摘要**

在不斷變化的加密貨幣市場中，**網格交易策略（Grid Trading）** 已成為促進流動性和穩定性的關鍵工具。本研究分析了 **ByBit 交易所** 上現有的網格交易策略，並探討了 **機器學習模型**（如 **隨機森林**（Random Forest）和 **長短期記憶網絡**（LSTM））對於優化這些策略參數的可行性。此外，研究還引入了一種 **新的避險策略（hedging strategy）**，旨在在降低風險的同時最大化回報。  

透過 **自訂回測系統（backtesting system）** 進行測試，結果顯示：  
1. **機器學習整合未能顯著優於傳統網格交易方法**，表明在此環境下，機器學習模型的應用仍需進一步探索與改進。  
2. **新避險策略表現優於單純持有比特幣（holding Bitcoin）**，展現出較高的回報率與風險管理能力。  

本研究為進一步優化網格交易策略、改進特徵工程（feature engineering）、以及在 **即時市場（live market）** 中進行測試提供了理論基礎與實證分析。


<a name="S2"></a>
## 2. **研究角度**

本研究從以下**三個主要角度**探討比特幣網格交易策略的優化與改進：

1. **機器學習在網格交易策略中的應用**  
   - 研究是否可以透過機器學習模型（如 **隨機森林**（Random Forest）與 **長短期記憶網絡**（LSTM））來動態調整網格交易參數，以提高交易策略的適應性與盈利能力。  
   - 分析機器學習模型在不同市場條件下的表現，並與傳統網格交易方法比較。  

2. **避險策略的設計與測試**  
   - 提出**新型避險策略**，利用比特幣價格的均值回歸特性來降低市場風險，並增加交易回報。  
   - 透過回測系統驗證避險策略的可行性，評估其相較於單純持有比特幣的優勢。  

3. **回測系統與數據分析**  
   - 利用 **ByBit 和 Binance 交易所** 的歷史數據（包含 **Level 2 訂單簿數據** 及 K 線數據），構建 **自訂回測系統**，進行模擬交易測試。  
   - 研究不同市場條件下（如高波動、低波動市場）網格交易策略的表現，以評估其穩健性與可適用性。  

本研究的核心在於**探索傳統網格交易策略與新技術（機器學習、避險策略）的結合，並透過數據回測驗證其實際效果**。


<a name="S3"></a>
## 3. **研究方法**

本研究通過以下步驟來探討比特幣網格交易策略的優化與改進，主要涵蓋**數據收集、策略設計、機器學習應用、回測系統開發與績效評估**。

### **1. 數據收集與處理**
- **數據來源**：
  - **ByBit 交易所**：收集 **Level 2 訂單簿數據**（買賣掛單價格、成交量、時間戳）。
  - **Binance 交易所**：獲取**K 線數據**（開盤價、最高價、最低價、收盤價、成交量）。
- **數據範圍**：
  - **ByBit 數據**：2023 年 10 月 - 2024 年 3 月
  - **Binance 數據**：2017 年 1 月 - 2024 年 4 月
- **數據處理**：
  - 轉換 UNIX 時間戳為可讀時間格式。
  - 清洗數據，去除異常值，確保統一格式以適應回測系統。

### **2. 傳統網格交易策略測試**
- **標準網格交易策略（Baseline Grid Trading）**：
  - 設定固定的價格網格間距，每當價格觸及預設閾值時自動買入或賣出。
  - 測試在不同市場條件下的表現，確定基準收益率與風險指標。

### **3. 機器學習模型應用**
- **目的**：利用機器學習技術提升網格交易策略的適應性，動態調整交易參數。
- **模型選擇**：
  - **隨機森林（Random Forest）**：預測比特幣價格短期趨勢，調整買賣閾值。
  - **長短期記憶網絡（LSTM）**：捕捉時間序列數據中的長期依賴性，以改進交易決策。
- **測試方法**：
  - 訓練機器學習模型，基於歷史數據預測價格變動，調整網格策略的參數。
  - 與傳統網格交易策略對比，以衡量機器學習方法的增益效果。

### **4. 避險策略（Hedging Strategy）設計**
- **目標**：降低市場風險，提升收益穩定性。
- **策略原理**：
  - **利用均值回歸（Mean Reversion）** 來動態調整倉位，當市場出現極端波動時調整交易參數。
- **回測評估**：
  - 比較避險策略與標準網格交易策略的表現，分析其在不同市場波動條件下的優勢。

### **5. 回測系統開發**
- **自訂回測架構**，確保靈活性與可擴展性：
  - **數據輸入模組（Data Feeder）**：處理並輸入交易數據。
  - **資料庫（Database）**：儲存歷史數據與交易記錄。
  - **策略模組（Strategy）**：測試不同網格交易與避險策略。
  - **回測引擎（BackTester）**：計算績效指標，評估策略表現。
- **測試市場條件**：
  - **高波動市場**
  - **低波動市場**
  - **震盪市場**
  - **趨勢市場**

### **6. 績效分析與比較**
- **關鍵績效指標（KPIs）**：
  - **累積收益率（Cumulative Return）**
  - **最大回撤（Max Drawdown）**
  - **夏普比率（Sharpe Ratio）**
  - **風險調整後收益（Risk-adjusted Return）**
- **比較不同策略的表現**：
  - **傳統網格交易 vs. 機器學習增強網格交易**
  - **傳統網格交易 vs. 避險策略**
  - **機器學習增強網格交易 vs. 避險策略**

本研究通過 **數據驅動的方法、機器學習技術與回測系統**，全面測試比特幣網格交易策略的優化方案，以探索最優交易方法。

<a name="S4"></a>
## 4. **研究結果**

本研究透過回測系統對比不同的交易策略，主要結論如下：

### **1. 機器學習增強網格交易 vs. 傳統網格交易**
- 機器學習模型（**隨機森林（Random Forest）** 和 **長短期記憶網絡（LSTM）**）的應用，雖然提供了**動態調整網格參數**的能力，但並未顯著優於傳統的固定網格交易策略。
- **主要原因**：
  - 機器學習模型對**短期價格波動的預測準確率較低**，導致交易頻率增加，但並未顯著提升收益。
  - 訓練數據的市場條件可能與未來市場不同，導致機器學習方法在實測環境中表現不佳。
- **結論**：
  - **傳統網格交易策略仍然表現穩定**，機器學習模型需要更進一步的優化（如更好的特徵工程或不同的模型選擇）。

### **2. 避險策略 vs. 標準網格交易**
- 避險策略利用**均值回歸（Mean Reversion）**，在價格波動較大時進行動態倉位調整，結果顯示：
  - **回報率顯著高於標準網格交易策略**。
  - **最大回撤（Max Drawdown）降低**，即風險管理能力提升。
  - 在高波動市場中，避險策略能夠減少因極端市場變化而產生的損失，表現更為穩健。
- **結論**：
  - **避險策略是比特幣市場中更有效的風險管理手段**，比單純的網格交易更具穩定性。

### **3. 策略表現比較**
| **策略**                 | **累積收益率（Cumulative Return）** | **最大回撤（Max Drawdown）** | **夏普比率（Sharpe Ratio）** |
|------------------------|------------------------|------------------|------------------|
| 傳統網格交易           | 中等                     | 高               | 低               |
| 機器學習增強網格交易   | 無顯著改善               | 高               | 低               |
| 避險策略               | **最高**                 | **最低**         | **最高**         |

### **4. 市場環境對策略的影響**
- **高波動市場**：
  - **避險策略效果最佳**，因其能夠有效降低風險並提高收益。
  - **機器學習策略表現不穩定**，可能因價格劇烈變動導致錯誤預測。
- **低波動市場**：
  - **標準網格交易表現良好**，因為價格區間變化小，固定網格策略能夠穩定運行。
  - **機器學習策略與避險策略未提供顯著優勢**。
- **震盪市場**：
  - **避險策略與標準網格交易表現接近**，但避險策略因能動態調整倉位，略微優於傳統方法。
- **趨勢市場**：
  - **網格交易策略普遍不適用**，因為價格會持續向一個方向變動，導致大量未實現損益。

### **5. 研究結論**
- **機器學習未能顯著改善網格交易策略的表現**，但在未來可能透過更優化的特徵工程提升效果。
- **避險策略顯著優於傳統網格交易策略**，在高波動市場環境下尤為有效。
- **網格交易策略適合震盪市場，但不適合趨勢市場**，這與傳統認知一致。
- 未來研究可考慮 **實際市場測試（Live Trading）**，以驗證策略在即時環境中的有效性。

本研究結果為未來的**網格交易優化與風險管理策略**提供了理論基礎與實證支持。


<a name="S5"></a>
## 5. **研究結論**

本研究探討了**網格交易策略（Grid Trading）** 在比特幣市場中的應用，並嘗試通過**機器學習技術**與**避險策略**來提升其效果。透過**數據回測與績效分析**，研究得出以下主要結論：

### **1. 機器學習未能顯著提升網格交易的績效**
- 本研究應用了 **隨機森林（Random Forest）** 和 **長短期記憶網絡（LSTM）** 來預測比特幣價格變動，並據此動態調整網格交易參數。
- **結果顯示**：
  - 機器學習模型無法穩定地提高交易績效，部分原因可能是比特幣市場的高噪聲特性，使得短期價格預測的準確度較低。
  - 在不同市場條件下，機器學習方法的表現不穩定，甚至在某些情況下**低於傳統網格交易策略**。
  - **傳統網格交易策略仍然具備穩健性，且適合震盪市場（Range-bound market）**。

### **2. 避險策略顯著優於標準網格交易**
- 本研究設計了一種基於**均值回歸（Mean Reversion）** 的避險策略，該策略能夠在市場極端波動時調整倉位，以降低風險並提升收益。
- **結果顯示**：
  - **避險策略的累積收益率高於標準網格交易策略**。
  - **避險策略的最大回撤（Max Drawdown）顯著降低**，表明其風險管理效果更佳。
  - 在**高波動市場**中，避險策略的效果尤為突出，能夠減少極端價格變動對交易的影響。

### **3. 市場條件對策略表現的影響**
| **市場條件**  | **標準網格交易** | **機器學習增強網格交易** | **避險策略** |
|--------------|----------------|--------------------|------------|
| **高波動市場** | 風險高，績效不穩定 | 預測誤差大，表現不穩定 | **最佳選擇，風險最低** |
| **低波動市場** | **表現良好** | 無顯著改善 | 與標準網格交易相近 |
| **震盪市場** | **適用，穩健表現** | 無明顯優勢 | 稍優於標準網格交易 |
| **趨勢市場** | 不適用，容易產生浮虧 | 不適用，預測誤差大 | 仍需調整策略 |

- 結果顯示：
  - **網格交易策略最適合震盪市場（Sideways Market），但在趨勢市場中表現不佳**。
  - **避險策略在高波動市場中表現最佳，顯示其風險管理優勢**。
  - **機器學習技術未能顯著提升交易績效，未來可能需要更深入的特徵工程與模型優化**。

### **4. 研究貢獻與未來方向**
#### **研究貢獻**
- 本研究提供了對比特幣市場中**網格交易策略的全面分析**，並透過**數據回測**驗證其可行性。
- **首次引入避險策略**，顯示該策略在高波動市場中的優勢，為未來交易策略的改進提供方向。
- 測試了機器學習模型對網格交易的影響，發現其在現有條件下仍存在局限性。

#### **未來研究方向**
- **提升機器學習模型的表現**：
  - 探索更適合比特幣市場的特徵工程方法，例如考慮**鏈上數據（On-chain Data）** 或**更長期的歷史數據**。
  - 測試**其他深度學習方法**，如變分自動編碼器（VAE）或 Transformer 模型，以提升預測準確性。
- **進一步優化避險策略**：
  - 探索**多資產避險**（如 BTC-ETH 套利策略），以提升風險管理能力。
  - 測試不同的**動態調整機制**，以適應更廣泛的市場條件。
- **進行即時市場測試（Live Trading）**：
  - 在真實交易環境中測試網格交易與避險策略，以評估其在即時市場中的適用性與可操作性。

### **總結**
本研究證實：
1. **傳統網格交易策略在震盪市場中仍然是穩健的方法**，但在趨勢市場中表現不佳。
2. **機器學習技術未能顯著提升網格交易策略的績效，可能需要進一步優化數據與模型**。
3. **避險策略表現優於傳統網格交易，尤其在高波動市場中能有效降低風險並提升收益**。

本研究為未來**加密貨幣市場交易策略的優化**提供了實證支持，並為進一步發展**智慧交易系統**提供了方向。